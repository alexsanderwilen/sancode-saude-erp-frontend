<div class="container-fluid p-4">
  <!-- Toolbar -->
  <mat-toolbar class="mb-4 shadow-sm rounded">
    <mat-toolbar-row>
      <h1 class="h5 mb-0">Gestão de Movimentações para SIB</h1>
      <span class="flex-spacer"></span>
      <button mat-flat-button color="primary" [disabled]="!isAnyRowSelected()" (click)="gerarArquivo()">
        <mat-icon>archive</mat-icon>
        Gerar Arquivo SIB
      </button>
    </mat-toolbar-row>
  </mat-toolbar>

  <!-- Filtros -->
  <mat-card class="mb-4">
    <mat-card-content class="d-flex flex-wrap gap-3 align-items-center">
      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>Data Inicial</mat-label>
        <input matInput [matDatepicker]="pickerStart">
        <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
        <mat-datepicker #pickerStart></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>Data Final</mat-label>
        <input matInput [matDatepicker]="pickerEnd">
        <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
        <mat-datepicker #pickerEnd></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="flex-grow-1">
        <mat-label>Tipo de Movimentação</mat-label>
        <mat-select multiple>
          <mat-option value="inclusao">Inclusão</mat-option>
          <mat-option value="alteracao">Alteração</mat-option>
          <mat-option value="cancelamento">Cancelamento</mat-option>
          <mat-option value="reativacao">Reativação</mat-option>
        </mat-select>
      </mat-form-field>

      <button mat-stroked-button color="primary" class="mt-1" (click)="loadMovimentacoes()">
        <mat-icon>search</mat-icon>
        Pesquisar
      </button>
    </mat-card-content>
  </mat-card>

  <!-- Grid -->
  <div class="ag-theme-alpine" style="height: 600px; width: 100%;">
    <ag-grid-angular
      style="width: 100%; height: 100%;"
      class="ag-theme-alpine"
      [rowData]="rowData"
      [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef"
      rowSelection="multiple"
      (gridReady)="onGridReady($event)">
    </ag-grid-angular>
  </div>

  <!-- Rodapé com Resumo -->
  <mat-toolbar class="mt-2 shadow-sm rounded">
    <mat-toolbar-row>
      <span>Total: 0 | Selecionadas: 0 (Inclusões: 0, Alterações: 0, Cancelamentos: 0)</span>
    </mat-toolbar-row>
  </mat-toolbar>
</div>