import { Injectable } from '@angular/core';import { HttpClient, HttpParams } from '@angular/common/http';import { Observable } from 'rxjs';import { map } from 'rxjs/operators';import { PlanoBase } from './plano-base.model';import { environment } from '../../../../environments/environment';import { Page } from '../../../shared/models/page.model';@Injectable({  providedIn: 'root'})export class PlanoBaseService {  private apiUrl = `${environment.apiUrl}/planos-base`;  constructor(private http: HttpClient) { }  getPlanosBase(): Observable<PlanoBase[]> {    return this.http.get<any>(this.apiUrl).pipe(      map((res: any) => (Array.isArray(res) ? res : (res?.content ?? [])).map((item: any) => ({        ...item,        descricao: item?.operadora?.razaoSocial || item?.operadora?.nomeFantasia || `#${item?.id}`      })))    );  }  getPlanosBasePaged(page: number, size: number, sort: string, order: string): Observable<Page<PlanoBase>> {    const params = new HttpParams()      .set('page', page.toString())      .set('size', size.toString())      .set('sort', `${sort},${order}`);    return this.http.get<Page<PlanoBase>>(this.apiUrl, { params });  }}